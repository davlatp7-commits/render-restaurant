<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mobile.css') }}">
</head>
<body>
    <!-- Header for waiter screen -->
    <div class="waiter-header">
        <a href="{{ url_for('client.index') }}" class="back-button">‚Üê</a>
        <div class="cart-title">–û—Ñ–∏—Ü–∏–∞–Ω—Ç</div>
        <div></div>
    </div>

    <div style="padding: 0 16px; font-size: 16px;">
        –ù–æ–≤—ã–π <span style="color: var(--primary-color);">{{ orders|length }}</span>
    </div>

    <div class="waiter-orders">
        {% for order in orders %}
        <div class="order-card">
            <h3>–°—Ç–æ–ª ‚Ññ{{ order.table_id }}</h3>
            {# –°–ø–∏—Å–æ–∫ –±–ª—é–¥ #}
            {% for item in order.items %}
                <p>{{ item.dish.name }} √ó {{ item.quantity }}</p>
            {% endfor %}
            {# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫–ª–∏–µ–Ω—Ç–∞, –µ—Å–ª–∏ –µ—Å—Ç—å #}
            {% if order.comment %}
                <p><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫–ª–∏–µ–Ω—Ç–∞</strong><br>{{ order.comment }}</p>
            {% endif %}
            {# –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å—Ç–∞—Ç—É—Å—É –≤ —Ü–µ–ø–æ—á–∫–µ.
               –¶–µ–ø–æ—á–∫–∞: –Ω–æ–≤—ã–π ‚Üí –ø—Ä–∏–Ω—è—Ç ‚Üí –≥–æ—Ç–æ–≤–∏—Ç—Å—è ‚Üí –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è ‚Üí –∑–∞–≤–µ—Ä—à—ë–Ω.
               –ó–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–∑–∞–≤–µ—Ä—à—ë–Ω" –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫. #}
            <div class="order-actions">
                {% if order.status == '–Ω–æ–≤—ã–π' %}
                    <a href="{{ url_for('waiter.update_status', order_id=order.id, new_status='–ø—Ä–∏–Ω—è—Ç') }}" class="btn btn-accept">–ü—Ä–∏–Ω—è—Ç—å</a>
                {% elif order.status == '–ø—Ä–∏–Ω—è—Ç' %}
                    <a href="{{ url_for('waiter.update_status', order_id=order.id, new_status='–≥–æ—Ç–æ–≤–∏—Ç—Å—è') }}" class="btn btn-accept">–ì–æ—Ç–æ–≤–∏—Ç—Å—è</a>
                {% elif order.status == '–≥–æ—Ç–æ–≤–∏—Ç—Å—è' %}
                    <a href="{{ url_for('waiter.update_status', order_id=order.id, new_status='–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è') }}" class="btn btn-accept">–ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è</a>
                {% elif order.status == '–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è' %}
                    <a href="{{ url_for('waiter.update_status', order_id=order.id, new_status='–∑–∞–≤–µ—Ä—à—ë–Ω') }}" class="btn btn-accept">–ó–∞–≤–µ—Ä—à—ë–Ω</a>
                {% else %}
                    {# –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω. #}
                    <a href="{{ url_for('waiter.delete_order', order_id=order.id) }}" class="btn btn-delete">–£–¥–∞–ª–∏—Ç—å</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Bottom navigation for waiter. –ö–Ω–æ–ø–∫–∞ "–ú–µ–Ω—é" —É–±—Ä–∞–Ω–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º. -->
    <div class="navbar">
        <a href="{{ url_for('waiter.waiter_panel') }}" class="nav-item active">
            <div class="icon">üìã</div>
            <div>–ù–æ–≤—ã–µ</div>
        </a>
        <a href="{{ url_for('waiter.waiter_history') }}" class="nav-item">
            <div class="icon">üïí</div>
            <div>–ò—Å—Ç–æ—Ä–∏—è</div>
        </a>
    </div>
    <!-- –°–∫—Ä–∏–ø—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
    <script src="{{ url_for('static', filename='js/waiter.js') }}"></script>
</body>
</html>